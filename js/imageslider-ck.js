(function(e){e.fn.imageSlider=function(t){var n=e.extend({displayDuration:5e3,animationDuration:1200,animation:"fade",appearance:"in",easing:"swing",delimiter:"|"},t==undefined?{}:t),r=e(this),i=r.width(),s=r.height(),o=e("<ul/>"),u=null,a=null,f=null,l=null,c=null,h=0;setTimer=function(){u&&window.clearTimeout(u);u=window.setTimeout(function(){var e=o.find(".current").closest("li").next();e.length==0&&(e=o.find("li:first"));e.find("a").trigger("click")},n.displayDuration)};if(e.isArray(n.animation)){c=n.animation;n.animation=c[h]}r.find("a").each(function(t){var r=e(this).find("img").detach(),u=r.attr("title"),p="",d=u!=undefined?u.indexOf(n.delimiter):-1;if(d>0){p=e.trim(u.substr(d+1));u=e.trim(u.substr(0,d))}else u=e.trim(u);e(this).html("<em>"+u+"</em>").wrap("<div/>").after(r);p!=""&&e(this).append("<span>"+p+"</span>");r.attr("title","");o.append(e("<li/>").append(e('<a href="#" title="'+u+'"></a>').click(function(r){r.preventDefault();if(a.filter(":animated").length>0||a.filter(":eq("+t+")").is(":visible"))return;var u={easing:n.easing,duration:n.animationDuration,complete:function(){f.hide();setTimer()}};o.find(".current").removeClass("current");e(this).blur().addClass("current");if(n.appearance=="out"){f=a.filter(":visible").css("z-index",2);l=a.filter(":eq("+t+")").css({"z-index":1,top:0,left:0,opacity:1}).show()}else{f=a.filter(":visible").css("z-index",1);l=a.filter(":eq("+t+")").css("z-index",2)}switch(n.animation){case"top right":case"right top":n.appearance=="out"?f.animate({top:-s,left:i},u):l.css({top:-s,left:i}).show().animate({top:0,left:0},u);break;case"top left":case"left top":n.appearance=="out"?f.animate({top:-s,left:-i},u):l.css({top:-s,left:-i}).show().animate({top:0,left:0},u);break;case"bottom left":case"left bottom":n.appearance=="out"?f.animate({top:s,left:-i},u):l.css({top:s,left:-i}).show().animate({top:0,left:0},u);break;case"bottom right":case"right bottom":n.appearance=="out"?f.animate({top:s,left:i},u):l.css({top:s,left:i}).show().animate({top:0,left:0},u);break;case"top":n.appearance=="out"?f.animate({top:-s},u):l.css("top",-s).show().animate({top:0},u);break;case"bottom":n.appearance=="out"?f.animate({top:s},u):l.css("top",s).show().animate({top:0},u);break;case"left":n.appearance=="out"?f.animate({left:-i},u):l.css("left",-i).show().animate({left:0},u);break;case"right":n.appearance=="out"?f.animate({left:i},u):l.css("left",i).show().animate({left:0},u);break;case"fade":default:n.appearance=="out"?f.animate({opacity:0},u):l.css("opacity",0).show().animate({opacity:1},u)}if(c){h=h<c.length-1?h+1:0;n.animation=c[h]}}).addClass(t==0?"current":"")))});a=e(this).find("div");a.not(":first").hide();e(this).append(o);setTimer();return e(this)}})(jQuery);